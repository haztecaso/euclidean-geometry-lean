\documentclass[a4paper, 12pt, spanish]{article}

\usepackage[none]{hyphenat}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{csquotes}
\usepackage[spanish]{babel}
\usepackage{enumitem}
\usepackage{caption}
\usepackage{graphicx}
\usepackage{microtype}
\usepackage{dirtree}

\usepackage{lmodern}

% _ escaping
\catcode`\_=12

\addtolength{\skip\footins}{.5em}

\usepackage[colorlinks=true, linktocpage=true, citecolor=red, linkcolor=blue]{hyperref}

\setcounter{tocdepth}{2}

\usepackage{enumitem}
\setlist[enumerate]{topsep=0mm}
\setlist[enumerate]{leftmargin=*}
\setlist[itemize]{topsep=0mm}
\setlist[itemize]{leftmargin=*}

\renewcommand{\labelitemi}{$\bullet$}
\renewcommand{\labelitemii}{$\bullet$}
\renewcommand{\labelitemiii}{$\bullet$}

\setlength\parindent{0pt}
\setlength\parskip{1em plus 0.1em minus 0.2em}

% \usepackage{sectsty} % Comentado porque generaba warning https://tex.stackexchange.com/a/310968


\newcommand{\emptypage}{\newpage\null\thispagestyle{empty}\newpage}
\usepackage[margin=3cm]{geometry}

% Lean3 formatting
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{upgreek}
\usepackage[final]{listings}
\usepackage{xcolor}
\definecolor{backcolor}{rgb}{0.9, 0.9, 0.9}   % grey
\definecolor{keywordcolor}{rgb}{0.7, 0.1, 0.1}   % red
\definecolor{commentcolor}{rgb}{0.4, 0.4, 0.4}   % grey
\definecolor{symbolcolor}{rgb}{0.0, 0.1, 0.6}    % blue
\definecolor{sortcolor}{rgb}{0.1, 0.5, 0.1}      % green
\definecolor{errorcolor}{rgb}{1, 0, 0}           % bright red
\definecolor{stringcolor}{rgb}{0.5, 0.3, 0.2}    % brown
\definecolor{tacticcolor}{rgb}{0.0, 0.1, 0.6}

\usepackage{lstautogobble}

\renewcommand{\lstlistingname}{Listado}
\def\lstlanguagefiles{lstlean.tex}
\lstdefinestyle{leanSimple}{
	language=lean,
	frame=trlb,
	framesep=10pt,
	rulecolor=\color{gray},
	basicstyle=\fontsize{10}{11}\selectfont\ttfamily,
	xleftmargin=-.75cm,
	xrightmargin=-.75cm,
	aboveskip=1em,
	belowskip=.5em,
	% framexleftmargin=1em,
	% framexrightmargin=1em,
}
\lstdefinestyle{leanFull}{
	style=leanSimple,
	numbers=left,
	% numbersep=5pt,
	xleftmargin=0cm,
	framexleftmargin=.75cm,
	numberstyle=\scriptsize\ttfamily\color{gray},
	% belowskip=-.5em,
	% backgroundcolor=\color{backcolor}, % background color
}

\lstset{style=leanSimple}

\newcommand{\lstleanfull}[3]{
	\lstinputlisting[
		style=leanFull,
		firstnumber=#2,
		firstline=#2,
		lastline=#3,
		title={\ttfamily \footnotesize src/#1}
	]{../src/#1}
}

\newtheorem{prop}{Proposición}
\newtheorem{tma}{Teorema}

\newtheoremstyle{defin}{14.0pt plus 2.0pt minus 4.0pt}{0mm}{}{}{\bfseries}{.}{.5em}{}
\theoremstyle{defin}
\newtheorem*{defin*}{Definición}

\def\theaxsection{}
\newcommand{\setaxsection}[1]{\def\theaxsection{#1}\setcounter{ax}{0}}

\newtheoremstyle{axstyle}{\topsep}{\topsep}{\itshape}{0pt}{\bfseries}{.}{ }
{\thmname{#1} \theaxsection\thmnumber{#2}\textnormal{\thmnote{ (#3)}}}
\theoremstyle{axstyle}
\newtheorem{ax}{Axioma}
\newtheoremstyle{axbstyle}{\topsep}{\topsep}{\itshape}{0pt}{\bfseries}{.}{ }
{\thmname{#1}\thmnote{ #3}}
\theoremstyle{axbstyle}
\newtheorem{axb}{Axioma}


\usepackage{xcolor}
\newcommand{\todo}[1]{\noindent\textcolor{red}{\textbf{Pendiente: }#1}}
\newcommand{\todoref}[1]{\noindent\textcolor{cyan}{\textbf{Referencia: }#1}}
\newcommand{\redactar}[1]{\noindent\textcolor{blue}{\bfseries #1}}


\renewenvironment{abstract}[1][Resumen]{
	\thispagestyle{empty}
	\begin{center}
		\textbf{#1}
	\end{center}
}{\vspace*{1cm}}


\usepackage{titlesec}
\titleformat{\section} {\Large\bfseries}{\thesection.}{0.5em}{}
\titleformat{\subsection}{\large\bfseries}{\thesubsection.}{0.5em}{}
\titleformat{\subsubsection}{\normalfont\bfseries}{\thesubsubsection.}{0.5em}{}
\titlespacing*{\subsubsection}{0pt}{.3em plus 0.1em minus 0.1em}{.05em plus 0.1em minus 0.1em}
\titlespacing{\paragraph}{0pt}{0.5\baselineskip}{1em}


\usepackage[citestyle=numeric,bibstyle=numeric,sorting=none]{biblatex}





